!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}({0:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},13:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),i={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()}},o=i;function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=[],l=d3.select(".chart-venue"),s=null,f=d3.scaleLinear(),d=(d3.scaleBand(),0),p={top:30,bottom:0,left:0,right:0},g=20,v=8,m=d3.format(".2s");function b(t){return t.map(function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}({},t,{capacities:+t.capacities})})}function y(){d=l.node().offsetWidth-p.left-p.right,g*u.length+v*(u.length-1);var t=d3.max(u,function(t){return t.capacities});f.domain([0,t]).range([0,d-p.right-p.left]);f(t);s.selectAll(".bar__bar").st("width",function(t){return f(t.capacities)})}var h={init:function(){return new Promise(function(t){d3.loadData("assets/data/venues.csv",function(e,n){var r;u=b(n[0]),(r=(s=l.append("div.right")).selectAll("bar__group").data(u).enter().append("div.bar__group").append("div.bar__bar")).append("p.bar__label-text").text(function(t){return t.artist}),r.append("p.bar__bar-text").text(function(t,e){return"".concat(m(t.capacities))}),r.filter(function(t,e){return 0==e}).select(".bar__bar-text").text(function(t){return"".concat(m(t.capacities))+" seats"}),y(),t()})})},resize:y};var x={init:function(){var t=[{geo:"US",data:[{platform:"YouTube",values:[["YoungBoy","2.49B"],["XXXTentacion","2.04B"],["Drake","2B"],["Ozuna","1.52B"],["Cardi B","1.5B"],["Bad Bunny","1.46B"],["Post Malone","1.45B"],["Lil Baby","1.44B"],["Eminem","1.32B"],["Kodak Black","1.19B"]]},{platform:"Spotify",values:[["Drake",""],["Post Malone",""],["XXXTentacion",""],["Travis Scott",""],["Khalid",""]]}]},{geo:"Global",data:[{platform:"YouTube",values:[["Ozuna","10.7B"],["J Balvin","8.51B"],["Bad Bunny","8.48B"],["Alka Yagnik","6.97B"],["Neha Kakkar","6.65B"],["Ed Sheeran","6.24B"],["Nicky Jam","5.97B"],["Udit Narayan","5.84B"],["BTS","5.54B"],["Daddy Yankee","5.17B"]]},{platform:"Spotify",values:[["Drake","8.2B"],["Post Malone",""],["XXXTentacion",""],["J. Balvin","3B"],["Ed Sheeran",""]]}]}],e=d3.select(".chart-youtube").selectAll("div").data(t).enter().append("div").attr("class","chart-youtube-geo");e.append("p").attr("class","chart-youtube-geo-title").text(function(t){return t.geo+" Ranking"});var n=e.append("div").attr("class","chart-youtube-geo-ranking-container").selectAll("div").data(function(t){return t.data}).enter().append("div").attr("class","chart-youtube-geo-platform-wrapper");n.append("p").attr("class","chart-youtube-geo-platform").text(function(t){return t.platform});var r=n.append("div").attr("class","chart-youtube-geo-ranking-wrapper").selectAll("div").data(function(t){return t.values}).enter().append("div").attr("class","chart-youtube-geo-ranking-row");r.append("p").attr("class","artist-name").text(function(t){return t[0]}),r.append("p").attr("class","artist-counts").text(function(t){return t[0]==d3.select(this.parentNode.parentNode).datum().values[0][0]?t[1]+" streams":t[1]})},resize:function(){}},w=[],_=d3.select(".chart-gifs"),B=(d3.scaleLinear(),d3.format(","));var O={init:function(){return new Promise(function(t){d3.loadData("assets/data/giphyCounts.csv",function(e,n){var r,a,i;w=n[0].filter(function(t){return"Pink"!==t.name}).slice(0,10),r=_.append("div.giphyStats").selectAll("dif__group").data(w).enter().append("div.gif__group"),(a=r.append("div.gif__gifContainer")).append("p.gif__rank-text").text(function(t,e){return e+1}),a.append("div.gif__gif").html(function(t){var e=t.name.replace(/\s+/g,"-");return'<img src="assets/images/'.concat(e,'.gif">')}),(i=r.append("div.gif__textContainer")).append("p.gif__name-text").html(function(t){var e=t.name.replace(/\s+/g,"-");return"<a href='https://giphy.com/search/".concat(e,"'>").concat(t.name,"</a>")}),i.append("p.gif__count-text").text(function(t){return"".concat(B(t.count)," gifs")}),t()})})}},k=[],j=d3.select("#reddit-text-cloud"),A=d3.format(".2s"),P=[0,48e4],S=d3.scaleLinear(),T=d3.scaleLinear(),M=d3.scaleLinear(),z=d3.scaleLinear().range([.5,1]),D=d3.scaleLinear().range([300,800]),E=8;function L(){var t;window.innerWidth<650?(S.range([8,42]),T.range([8,14]),M.range([4,20]),E=4):(S.range([8,54]),T.range([8,16]),M.range([4,20]),E=8),P=[0,d3.max(k,function(t){return t.count})],S.domain(P),T.domain(P),M.domain(P),z.domain(P),D.domain(P),t=k.slice(0,29),j.selectAll(".reddit-artist-container").remove(),t.forEach(function(t,e){var n=j.append("div").attr("class","reddit-artist-container").append("div").attr("class","reddit-artist-inner").style("padding","".concat(E,"px ").concat(M(t.count),"px")).style("background",function(){return 0===e?"#d65454":"#34a29e"});n.append("p").attr("class","reddit-artist-name").style("font-size","".concat(S(t.count),"px")).text(t.artist).style("text-transform","uppercase").style("border-radius","4px").style("margin",0).style("line-height",1),n.append("p").attr("class","reddit-artist-count").text(function(){return 0===e?"".concat(A(t.count)," comments"):A(t.count)}).style("font-size","".concat(T(t.count),"px")).style("margin",0).style("border-color",function(){return 0===e?"#d65454":"#34a29e"})})}var X={init:function(){return new Promise(function(t){d3.loadData("assets/data/reddit.csv",function(e,n){var r;r=n[0],k=r.map(function(t,e){return{artist:t.artist,count:+t.count}}),L(),t()})})},resize:L};function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Y=d3.select("section.social").select("figure"),C=Y.select("svg"),$=Y.select("g"),F=Y.select(".g-vis"),I=Y.select(".g-axis"),J=["instagram","twitter","facebook","youtube"],K=28,U=4,G={top:36,bottom:12,left:12,right:12},R=120+U,q=40+3*U,H=null;function Q(t){var e=t.platform,n=t.value,r=J.indexOf(e)+1;if(r>=J.length)return!1;var a=J.slice(r,J.length),i=d3.select(this),o=H(n);i.parent().selectAll("circle").each(function(t){if(a.includes(t.platform)){var e=H(t.value),n=o-e;if(Math.abs(n)<2*U){var r=n<0?1:-1;i.translate([o-2*U*r,0])}}})}function V(){var t=$.selectAll(".person"),e=t.data(),n=Y.node().offsetWidth-(G.left+G.right),r=K*e.length,a=d3.max(e,function(t){return Math.max.apply(Math,W(J.map(function(e){return t[e]})))});H=d3.scaleLinear().domain([0,a]).range([R,n-q]),C.at("width",n+(G.left+G.right)).at("height",r+(G.top+G.bottom)),$.translate([G.left,G.top]);var i=d3.axisTop(H).tickFormat(d3.format(".2s")).ticks(n<480?3:6).tickSize(-r);I.call(i).translate([0,-G.top/3]),t.translate(function(t,e){return[0,e*K]}),t.select(".total").translate([n,0]),t.selectAll("circle").translate(function(t){return[H(t.value),0]}),t.select("line").at({x1:H.range()[0],x2:H.range()[1],y1:0,y2:0}),F.select(".label").translate([n,-G.top/2.35]),t.selectAll("circle").each(Q)}var Z={init:function(){d3.loadData("assets/data/social.csv",function(t,e){!function(t){var e=d3.format(".3s");F.append("text.label").text("Total").at("text-anchor","end");var n=F.selectAll(".person").data(t).enter().append("g.person");n.append("text.name").text(function(t){return t.id}).at("alignment-baseline","middle"),n.append("text.total").text(function(t){return e(t.total)}).at("text-anchor","end").at("alignment-baseline","middle"),n.append("line"),n.append("g.dots").selectAll("circle").data(function(t,e){return[{platform:"instagram",value:t.instagram,index:e},{platform:"twitter",value:t.twitter,index:e},{platform:"facebook",value:t.facebook,index:e},{platform:"youtube",value:t.youtube,index:e}]}).enter().append("circle").at("class",function(t){return"platform--".concat(t.platform)}).at("cx",0).at("cy",0).at("r",U)}(e[0].map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){N(t,e,n[e])})}return t}({},t,{instagram:+t.instagram,twitter:+t.twitter,facebook:+t.facebook,youtube:+t.youtube,total:+t.total})})),V()})},resize:V},tt=d3.select("body"),et=0;function nt(){var t=tt.node().offsetWidth;et!==t&&(et=t,h.resize(),X.resize(),Z.resize())}tt.classed("is-mobile",o.any()),window.addEventListener("resize",a()(nt,150)),function(){if(tt.select("header").classed("is-sticky")){var t=tt.select(".header__menu"),e=tt.select(".header__toggle");e.on("click",function(){var n=t.classed("is-visible");t.classed("is-visible",!n),e.classed("is-visible",!n)})}}(),h.init(),x.init(),O.init(),X.init(),Z.init()},2:function(t,e,n){(function(e){var n="Expected a function",r=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,d=s||f||Function("return this")(),p=Object.prototype.toString,g=Math.max,v=Math.min,m=function(){return d.Date.now()};function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==a}(t))return r;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):o.test(t)?r:+t}t.exports=function(t,e,r){var a,i,o,c,u,l,s=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function h(e){var n=a,r=i;return a=i=void 0,s=e,c=t.apply(r,n)}function x(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-s>=o}function w(){var t=m();if(x(t))return _(t);u=setTimeout(w,function(t){var n=e-(t-l);return d?v(n,o-(t-s)):n}(t))}function _(t){return u=void 0,p&&a?h(t):(a=i=void 0,c)}function B(){var t=m(),n=x(t);if(a=arguments,i=this,l=t,n){if(void 0===u)return function(t){return s=t,u=setTimeout(w,e),f?h(t):c}(l);if(d)return u=setTimeout(w,e),h(l)}return void 0===u&&(u=setTimeout(w,e)),c}return e=y(e)||0,b(r)&&(f=!!r.leading,o=(d="maxWait"in r)?g(y(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p),B.cancel=function(){void 0!==u&&clearTimeout(u),s=0,a=l=i=u=void 0},B.flush=function(){return void 0===u?c:_(m())},B}}).call(this,n(0))}});